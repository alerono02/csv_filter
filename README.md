# CSV Filter with CDP platform

---

## Описание:

Данная работа представляет собой скрипт, 
который может фильтровать, агрегировать, 
работать с данными из файла формата CSV и сохранить в необходимом формате полученные данные.


---

## Технологии:
- Python 3.11
- Lxml
- Openpyxl
- Pandas

---

## Предустановка
- **Загрузить файл в директорию проекта**

- **Установка зависимостей командной:**
```shell
pip3 install -r requirements.txt
```

- **Запуск скрипта**
```shell
python3 main.py (filename.csv)
```
--- 
## Функционал
После запуска скрипта выводится меню, для работы с данными из файла, где выбор необходимого действия производится при помощи чисел от 1 до 5:
```bazaar
Выберите действие:
1 - Подсчёт числа действий каждого клиента.
2 - Фильтрация данных по критериям.
3 - Среднее число действий клиентов и топ-5 клиентов с наибольшими действиями.
4 - Сохранение файла.
5 - Выход.
```
- ### 1 - Подсчёт числа действий каждого клиента.
```
   client_id  action_count
0          1             4
1          2             3
2          3             2 
```
- ### 2 - Фильтрация данных по критериям.
```
Выберите критерий:
0 - client_id
1 - action
2 - timestamp

```
При выборе "action" предлагает выбрать определенное действие:
```
Выберите 'action': 
0 - view_product
1 - add_to_cart
2 - purchase
```
При другом выборе необходимо ввести дату или id клиента соответственно:
```
Введите client_id: 1
------------------
Введите timestamp: 2022-01-01 10:00:00
```
Пример данных:
```
   client_id        action           timestamp
0          1  view_product 2022-01-01 10:00:00
2          1  view_product 2022-01-01 10:10:00
5          1   add_to_cart 2022-01-01 10:25:00
7          1      purchase 2022-01-01 10:35:00 
```
- ### 3 - Среднее число действий клиентов и топ-5 клиентов с наибольшими действиями.
```
   average_actions                          top_clients
0              3.0  {'client_id': 1, 'action_count': 4}
1              3.0  {'client_id': 2, 'action_count': 3}
2              3.0  {'client_id': 3, 'action_count': 2}

```
- ### 4 - Сохранение файла.
При сохранении доступные форматы указанны в скобках
```
Введите название файла без формата: new_file 
---------------------------------
Введите формат файла(csv, excel, xml, json): csv
Saved to new_file.csv
```
- ### 5 - Выход.
Завершение скрипта

---
